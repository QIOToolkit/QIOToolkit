<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Class solver::Murex
 | qiotoolkit </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Class solver::Murex
 | qiotoolkit ">
    
      <link rel="shortcut icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="classsolver_1_1Murex">



  <h1 id="classsolver_1_1Murex" data-uid="classsolver_1_1Murex" class="text-break">Class solver::Murex
</h1>
  <div class="markdown level0 summary"><p>Multi-Objective Replica Exchange  &quot;murex&quot;.</p>
<p>This solver implements a replica exchange approach whereby, in addition to the variables (&quot;spins&quot;), the parameters are at different quenched values at every node. As a result, the method explores the lowest cost value that can be achieved at different &quot;mixing rates&quot; of the parameters.
The (currently hard-coded) arrangement of the nodes is in a triangle such that the temperature of nodes in each diagonal agrees, while the parameters x and y are swept from (1,0) to (0,1) in equal steps.
position weights 5 j ( 0, 1) 2 4 ↖ ( 0, 1) (.5,.5) 0 1 3 (.5,.5) ( 1, 0) ( 1, 0) → i
This setup is intended to analyze the effect of a multi-objective model with different weights assigned to each objective:</p>
<pre><code class="lang-math"> \mathcal{H} = -x\mathcal{H}_x(\vec{s}) -y\mathcal{H}_y(\vec{s}) 
</code></pre>
<p>Replica exchanges happen between neighboring nodes (vertically and horizontally) and take place at a rate which take into consideration that the cost of the swapped states are modified by virtue of being placed at a new node (and, thus, new set of parameters).</p>
<div class="NOTE">
<h5>Note</h5>
<p>The solver requires the model being simulated to support parameters and have exactly two parameters (which are selected as <code>x</code> and <code>y</code>). They do not necessarily need to split the cost function as described. [At the time of this writing, only &quot;poly&quot; supports this].</p>
</div>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="stepping-solver.html">solver::SteppingSolver</a></div>
    <div class="level1"><span class="xref">solver::Murex</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1a1b4d9cfb588541f8fc91f0d4bac43dd6">clear_observable_label</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1a251e5dd9ea6c52f3e1bdee808eb8e885">restart</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1a369264388679a159fa252ecbd380f6d7">is_watching</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1a4723afadbc57912d1b752af84c4594d7">scoped_observable_label</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1a64d844bc34f9bcd85bae422eef622e5a">observe</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1ac4c46e9e4ce3712511d78c8a576bb277">Observer</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1ac63d862c05309911da45f7b751031bd9">render</a>
    </div>
    <div>
      <a class="xref" href="../observe/observer.html#classobserve_1_1Observer_1af20ae4b17f52bd5c3cb7915125db3bd6">set_observable_label</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a02f791324558221c4c3bd39df04608fa">~ModelSolver</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a313063c8cb3b2ab54acfdf49def272b3">copy_lowest_state</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a3eed55d15ebff69196fbca4966889713">copy_solutions</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a4d2c0418413c96ccde47aadfcd8137c5">get_model_properties</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a4f2b1d055c9c0803a88b04f68590aeaa">update_lowest_cost</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a5ced21f7dee4e32b031e5ecf96b91c42">get_model_term_size</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a722c55c25b7c5d50bcf524db78ee042e">init_memory_check</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a8047a0ec0e785e819c7abaa2e3cf1c81">count_solutions</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a819893fc5c6828df2775956fccbfa24e">copy_solutions</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a9494121d21f38cb52b145f09c02b9c2f">get_model</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a983007964cfbb99b8205400a7ddc26dc">get_model_unconst</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a9a086086c4343d2ac33494dda33a3c03">copy_solutions_other</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1a9e23d4623aa2d2e12911fcfcc31d208a">ModelSolver</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1aa2939b80307d7ee006ac5a5473db884c">populate_solutions</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1aaa4cf4991eb3e2abb0835365cfb7a4ab">max_replicas_adjusted_state</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1ac03ef9c51fb486f69952bf55242f6230">set_model</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1ad83ed6f003a5ab555638e8f7a8123e43">get_model_sweep_size</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1ae2087ceb745823f195594cb811c8fc24">is_empty</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1ae83a09105f6260f41b8dd7d53648bd7a">get_lowest_cost</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1aea467a6e1a5274ca9feea16e546406be">adjust_states</a>
    </div>
    <div>
      <a class="xref" href="model-solver.html#classsolver_1_1ModelSolver_1aeaead5ce753a278ec74bb0c4f38fabcd">max_replicas_of_state</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1a0ce9c6eb9d76997976645561af6a7611">set_time_limit</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1a169b642cb71ac185c7cd2fc88bfe631a">get_result</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1a4883959e77a56c434267446ca6c71396">copy_limits</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1a6ac73e52a975091aae90d84c82bf57f5">finalize</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1ad54c1c4a804a5dc13c288ca2308e794f">~Solver</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1ad8381f042bd888b1041b572648e8c4f8">get_benchmark</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1adcb1120bc65eaf9516c234b4f5a4b6b4">get_max_threads</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1ae27b812939b70c8584ae8aa4955306d8">get_thread_count</a>
    </div>
    <div>
      <a class="xref" href="solver.html#classsolver_1_1Solver_1afe69b71f20e8968da62bb651b08556d8">Solver</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a20952baaaa6a0798fa63da63b1ca68c8">fixed_step_per_tick</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a2582410fd26f51a909dce44de6a00636">update_accumulated_info</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a3910388f5a2688f8b692890e0e7ce217">handle_signals</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a3e73e245385c626823ca2e39aa22633f">run</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a55aeebed94a3bd5f8ddcefefa0be20cb">current_steps</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a67e460005d9bc2ddb41341456721c08a">reset</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a6cf35e2ba12b2b6c02c89a4023751b49">get_cost_function_evaluation_count</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1a9324399265928a5181af9acc253e3358">SteppingSolver</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1aa3f7c4bb9ac1636160e0272963e8238c">get_solver_properties</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1ab802d751c9605c2936ec70d25c9d4503">status</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1ac26f78e9045c7749ed451aacf25fbac5">get_seed</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1ace5861f84b7fcdbf6fddbca2e2b191e1">~SteppingSolver</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1ada9743512b00c9cd9ccd706df48c689c">get_runtime</a>
    </div>
    <div>
      <a class="xref" href="stepping-solver.html#classsolver_1_1SteppingSolver_1ade68ab806e0641c8779bd9b981c181ef">seconds_per_step</a>
    </div>
    <div>
      <a class="xref" href="../utils/component-with-output.html#classutils_1_1ComponentWithOutput_1aaa47507d80257a8d56850dfd40b3e396">set_output_parameter</a>
    </div>
    <div>
      <a class="xref" href="../utils/component-with-output.html#classutils_1_1ComponentWithOutput_1ab373e1af6150ece4f183aef68c70a2b3">set_output_parameter</a>
    </div>
    <div>
      <a class="xref" href="../utils/component-with-output.html#classutils_1_1ComponentWithOutput_1ab37db0dc51ae993704fb25f4d6727605">param</a>
    </div>
    <div>
      <a class="xref" href="../utils/component-with-output.html#classutils_1_1ComponentWithOutput_1ab94d432e87d2b5d669cdd8d28b0ac433">get_output_parameters</a>
    </div>
    <div>
      <a class="xref" href="../utils/component.html#classutils_1_1Component_1a67f7229e49ecc957127b904d2c05faf0">~Component</a>
    </div>
    <div>
      <a class="xref" href="../utils/component.html#classutils_1_1Component_1abc05fa4fae9c9abe1f75c4067a091f0e">Component</a>
    </div>
    <div>
      <a class="xref" href="../utils/component.html#classutils_1_1Component_1aeae1ec0db8ea4a4e836816838d46b347">get_status</a>
    </div>
    <div>
      <a class="xref" href="../utils/component.html#classutils_1_1Component_1af536c38ae6be0c1dfc5f7a62c32001d9">get_class_name</a>
    </div>
  </div>
  <!--<h6><strong>Namespace</strong>: </h6>-->
  <!--<h5 id="classsolver_1_1Murex_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs"></code></pre>
  </div>
  -->
  <h3 id="constructors">Constructors
</h3>


  <h4 id="classsolver_1_1Murex_1af12c5b39d895336cd5f6774d83c7b0bc" data-uid="classsolver_1_1Murex_1af12c5b39d895336cd5f6774d83c7b0bc">Murex()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">solver::Murex&lt;Model_T&gt;::Murex()</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1aa63bedc13950ef2d5d53fb00639f795c" data-uid="classsolver_1_1Murex_1aa63bedc13950ef2d5d53fb00639f795c">Murex()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">solver::Murex&lt;Model_T&gt;::Murex(const Murex&amp;)=delete</code></pre>
  </div>
  <h3 id="methods">Methods
</h3>


  <h4 id="classsolver_1_1Murex_1a5f1032ce786472240cc9c6a2ef073aa8" data-uid="classsolver_1_1Murex_1a5f1032ce786472240cc9c6a2ef073aa8">operator=()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">Murex&amp;solver::Murex&lt;Model_T&gt;::operator=(const Murex&amp;)=delete</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1aa6cca61b78fd81b0a338dbe44aae0701" data-uid="classsolver_1_1Murex_1aa6cca61b78fd81b0a338dbe44aae0701">get_identifier()</h4>
  <div class="markdown level1 summary"><p>Get the identifier of this solver. This identifier is denoted as the <code>target</code> in the request.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">std::string solver::Murex&lt;Model_T&gt;::get_identifier() const override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1a5424d14bae422eae5aa480836c6f040a" data-uid="classsolver_1_1Murex_1a5424d14bae422eae5aa480836c6f040a">init_memory_check_error_message()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">std::string solver::Murex&lt;Model_T&gt;::init_memory_check_error_message() const override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1a0172dd47ad803375eefc6c363b75a5e6" data-uid="classsolver_1_1Murex_1a0172dd47ad803375eefc6c363b75a5e6">target_number_of_states()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">size_t solver::Murex&lt;Model_T&gt;::target_number_of_states() const override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1a86f5da44e458a30a0e192bbe0f567d8b" data-uid="classsolver_1_1Murex_1a86f5da44e458a30a0e192bbe0f567d8b">init()</h4>
  <div class="markdown level1 summary"><p>Initialize the solver.</p>
<p>Initialization entails creating the graph of nodes and initializing a replica (a metropolis walker containing a state) at each node.
The set of nodes is currently hard coded do consist of nT diagonals with 1..nT nodes, respectively. Each of them is assigned a set of mixing weights such that the starting point (on the x axis) is [1,0] and the end point on the y axis is [0,1], with linear interpolation of the mixing weights in between:
position weights 5 j ( 0, 1) 2 4 ↖ ( 0, 1) (.5,.5) 0 1 3 (.5,.5) ( 1, 0) ( 1, 0) → i
The temperature is highest in the lower left corner and decreases by one temperature step until the lowest on the furthest diagonal. We use the <code>i</code> index to refer to the diagonal and the <code>j</code> index for the position on that diagnoal. As such, the results for the pareto front are found on the last <code>nT</code> nodes in the node list, which represent the diagonal at i=nT-1, j=[0..nT].</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">void solver::Murex&lt;Model_T&gt;::init() override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1a69d63647e2d22bfefd47d6d4eac8a5a5" data-uid="classsolver_1_1Murex_1a69d63647e2d22bfefd47d6d4eac8a5a5">make_step()</h4>
  <div class="markdown level1 summary"><p>Make a step.</p>
<p>A step constitutes performing individual metropolis updates on the nodes, followed by measurements and replica exchange moves.
We update exchange moves from even (odd) diagonals in even (odd) steps and switch the direction every 2 steps.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">void solver::Murex&lt;Model_T&gt;::make_step(uint64_t step) override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1acc4b84659d4d6180dfb545d0fb8c6432" data-uid="classsolver_1_1Murex_1acc4b84659d4d6180dfb545d0fb8c6432">get_solutions()</h4>
  <div class="markdown level1 summary"><p>Return the solutions found.</p>
<p>As the solution we return the lowest_cost found in the furthest diagonal (i.e., at lowest temperature) and the states corresponding to this lowest cost.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">utils::Structure solver::Murex&lt;Model_T&gt;::get_solutions() const override</code></pre>
  </div>


  <h4 id="classsolver_1_1Murex_1ac2799d683ade6517f64b8adf2a25e1be" data-uid="classsolver_1_1Murex_1ac2799d683ade6517f64b8adf2a25e1be">configure()</h4>
  <div class="markdown level1 summary"><p>Check the identifier and version against the configuraiton.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">void solver::Murex&lt;Model_T&gt;::configure(const utils::Json&amp;json) override</code></pre>
  </div>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>
              Generated with <strong>Doxygen</strong>
              and <strong>DocFX</strong></span>
              | <a href="[site-url]?version=GB"></a> (<a href="[site-url]/"></a>)
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://tikzjax.com/v1/fonts.css">
    <script src="http://tikzjax.com/v1/tikzjax.js"></script>
    -->

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function(event) { 
        var codes = document.getElementsByTagName("code");
        [].slice.call(codes).forEach(function(code){
          var pre = code.parentNode;
          if (pre.tagName == "PRE" && code.classList.contains('lang-math')) {
            math_div = document.createElement('div');
            math_div.innerHTML = katex.renderToString(code.textContent, { displayMode: true });
            pre.parentNode.replaceChild(math_div, pre);
          } else {
            var before = code.previousSibling;
            var after = code.nextSibling;
            if (before && before.textContent !== undefined && before.textContent.endsWith('$')
                && after && after.textContent !== undefined && after.textContent.startsWith('$'))
            {
              math_span = document.createElement('span');
              math_span.innerHTML = katex.renderToString(code.innerHTML, { displayMode: false });
              code.parentNode.replaceChild(math_span, code);
              before.textContent = before.textContent.replace(/\$$/, '');
              after.textContent = after.textContent.replace(/^\$/, '');
            }
          }
        });
      });
    </script>

  </body>
</html>
