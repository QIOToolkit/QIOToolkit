<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Class optimal_learning::MockKnowledgeGradientEnvironment
 | qiotoolkit </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Class optimal_learning::MockKnowledgeGradientEnvironment
 | qiotoolkit ">
    
      <link rel="shortcut icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment">



  <h1 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment" class="text-break">Class optimal_learning::MockKnowledgeGradientEnvironment
</h1>
  <div class="markdown level0 summary"><p>\rst Checks that multithreaded KG optimization behaves the same way that single threaded does.
number of test failures: 0 if KG multi/single threaded optimization are consistent \endrst</p>
<p>\rst Checks that KG optimization is working on tensor product or simplex domain using monte-carlo KG evaluation.</p>
<p>:domain_type</p>
<p>type of the domain to test on (e.g., tensor product, simplex)</p>
<p>number of test failures: 0 if KG optimization is working properly \endrst</p>
<p>\rst Checks that ComputeKGOptimalPointsToSample works on a tensor product domain. This test exercises the the code tested in: KnowledgeGradientOptimizationTest(kTensorProduct) for <code>ei_mode = {kAnalytic, kMonteCarlo}</code>.
This test checks the generation of multiple, simultaneous experimental points to sample.
number of test failures: 0 if KG optimization is working properly \endrst</p>
<p>\rst Tests EvaluateKGAtPointList (computes KG at a specified list of points, multithreaded). Checks that the returned best point is in fact the best. Verifies multithreaded consistency.
number of test failures: 0 if function evaluation is working properly \endrst</p>
<p>\rst Class to conveniently hold and generate random data that are commonly needed for testing functions in <a href="xref:gpp__math_8cpp">gpp_math.cpp</a>. In particular, this mock is used for testing GP mean, GP variance, and expected improvement (and their gradients).
This class holds arrays: <code>points_sampled</code>, <code>points_sampled_value</code>, <code>points_to_sample</code>, and <code>points_being_sampled</code> which are sized according to the parameters specified in <a class="xref" href="mock-knowledge-gradient-environment.html#classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1aa7f5039fbe8f5ead2d6896c70938b57c">Initialize()</a>, and filled with random numbers.
TODO(GH-125): we currently generate the point sets by repeated calls to rand(). This is generally unwise since the distribution of points is not particularly random. Additionally, our current covariance functions are all stationary, so we would rather generate a random base point <code>x</code>, and then a random (direction, radius) pair so that <code>y = x + direction*radius</code>. We better cover the different behavioral regimes of our code in this case, since it's the radius value that actually correlates to results. \endrst</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">optimal_learning::MockKnowledgeGradientEnvironment</span></div>
  </div>
  <!--<h6><strong>Namespace</strong>: </h6>-->
  <!--<h5 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs"></code></pre>
  </div>
  -->
  <h3 id="constructors">Constructors
</h3>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1ab4b658f6fe51c171ba709c5eb1c75f26" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1ab4b658f6fe51c171ba709c5eb1c75f26">MockKnowledgeGradientEnvironment()</h4>
  <div class="markdown level1 summary"><p>\rst Construct a <a class="xref" href="mock-expected-improvement-environment.html">MockExpectedImprovementEnvironment</a> and set invalid values for all size parameters (so that Initialize must be called to do anything useful) and pre-allocate some space. \endrst</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">optimal_learning::MockKnowledgeGradientEnvironment::MockKnowledgeGradientEnvironment()</code></pre>
  </div>
  <h3 id="methods">Methods
</h3>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1aa7f5039fbe8f5ead2d6896c70938b57c" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1aa7f5039fbe8f5ead2d6896c70938b57c">Initialize()</h4>
  <div class="markdown level1 summary"><p>\rst (Re-)initializes the data data in this function: this includes space allocation and random number generation.
If any of the size parameters are changed from their current values, space will be realloc'd. Then it re-draws another set of uniform random points (in [-5, 5]) for the member arrays points_sampled, points_sampled_value, points_to_sample, and points_being_sampled.</p>
<p>:dim</p>
<p>the spatial dimension of a point (i.e., number of independent params in experiment) :num_to_sample: number of points to be sampled in future experiments :num_being_sampled: number of points being sampled concurrently :num_sampled: number of already-sampled points \endrst</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">void optimal_learning::MockKnowledgeGradientEnvironment::Initialize(int dim_in, int num_to_sample_in, int num_being_sampled_in, int num_sampled_in, int num_pts_in, int num_derivatives_in)</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a3e8312f30f8165ed35d6b7d7d1f4d5a1" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a3e8312f30f8165ed35d6b7d7d1f4d5a1">Initialize()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">void optimal_learning::MockKnowledgeGradientEnvironment::Initialize(int dim_in, int num_to_sample_in, int num_being_sampled_in, int num_sampled_in, int num_pts_in, int num_derivatives_in, UniformRandomGenerator *uniform_generator)</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a005896b0c91833f6ba25eb7155f1e093" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a005896b0c91833f6ba25eb7155f1e093">points_sampled()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">double* optimal_learning::MockKnowledgeGradientEnvironment::points_sampled()</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a4682bb820d4c1a4fa9ee1017a32d50c5" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a4682bb820d4c1a4fa9ee1017a32d50c5">points_sampled_value()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">double* optimal_learning::MockKnowledgeGradientEnvironment::points_sampled_value()</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a05b7c2c928b9873398c4f20113a2f025" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a05b7c2c928b9873398c4f20113a2f025">points_to_sample()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">double* optimal_learning::MockKnowledgeGradientEnvironment::points_to_sample()</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1aee3f3dbcee58ad6a7710ffe6e80ceb85" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1aee3f3dbcee58ad6a7710ffe6e80ceb85">points_being_sampled()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">double* optimal_learning::MockKnowledgeGradientEnvironment::points_being_sampled()</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a6490201a35432a6d99b1bc732b54b803" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1a6490201a35432a6d99b1bc732b54b803">discrete_pts()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">double* optimal_learning::MockKnowledgeGradientEnvironment::discrete_pts()</code></pre>
  </div>


  <h4 id="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1ab091cde05877b4c61da453ae46c2df2b" data-uid="classoptimal__learning_1_1MockKnowledgeGradientEnvironment_1ab091cde05877b4c61da453ae46c2df2b">OL_DISALLOW_COPY_AND_ASSIGN()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">optimal_learning::MockKnowledgeGradientEnvironment::OL_DISALLOW_COPY_AND_ASSIGN(MockKnowledgeGradientEnvironment)</code></pre>
  </div>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>
              Generated with <strong>Doxygen</strong>
              and <strong>DocFX</strong></span> 
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://tikzjax.com/v1/fonts.css">
    <script src="http://tikzjax.com/v1/tikzjax.js"></script>
    -->

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function(event) { 
        var codes = document.getElementsByTagName("code");
        [].slice.call(codes).forEach(function(code){
          var pre = code.parentNode;
          if (pre.tagName == "PRE" && code.classList.contains('lang-math')) {
            math_div = document.createElement('div');
            math_div.innerHTML = katex.renderToString(code.textContent, { displayMode: true });
            pre.parentNode.replaceChild(math_div, pre);
          } else {
            var before = code.previousSibling;
            var after = code.nextSibling;
            if (before && before.textContent !== undefined && before.textContent.endsWith('$')
                && after && after.textContent !== undefined && after.textContent.startsWith('$'))
            {
              math_span = document.createElement('span');
              math_span.innerHTML = katex.renderToString(code.innerHTML, { displayMode: false });
              code.parentNode.replaceChild(math_span, code);
              before.textContent = before.textContent.replace(/\$$/, '');
              after.textContent = after.textContent.replace(/^\$/, '');
            }
          }
        });
      });
    </script>

  </body>
</html>
