<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Benchmark | qiotoolkit </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Benchmark | qiotoolkit ">
    
      <link rel="shortcut icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="microsoft.azure.quantum.qiotoolkit.tutorial.usage.benchmark">
<h1 id="benchmark">Benchmark</h1>

<div class="CAUTION">
<h5>Caution</h5>
<p>Always ensure you are using a binary <a href="../setup/cmake.html">built with</a> a
<code>Release</code> configuration; there is a substantial difference in performance.
If in doubt, you can check the <code>build</code> extension of the <code>response.benchmark</code>.</p>
</div>
<h2 id="usage">Usage</h2>
<p>Details on how to run qiotoolkit can be found <a href="../setup/run.html">here</a>. To display
the benchmarking logging data, ensure that you run the qiotoolkit executable without
the <code>-n</code> flag:</p>
<pre><code class="lang-bash">$ cd path/to/qiotoolkit/cpp
$ mkdir release_build
$ cd release_build
$ cmake .. -DCMAKE_BUILD_TYPE=Release
$ make -j8
$ ./app/qiotoolkit --user --log_level=WARN --solver microsoft.simulatedannealing.qiotoolkit \
      --parameters ../examples/params-sa.json \
      --input ../examples/ising.json
</code></pre>
<h2 id="wall-time-of-a-run">Wall time of a run</h2>
<p>The wall clock duration of a simulation can be gathered from the
<code>benchmark.end2end_time_ms</code> in the <a href="response.html">qiotoolkit Response</a>.  For this to
be meaningful, the simulation should be run with a <code>step_limit</code> or
(alternatively) <code>eval_limit</code>. <em>When a <code>timeout</code> is set and reached, this
will only show how precise qiotoolkit's stop timing was...</em></p>
<div class="NOTE">
<h5>Note</h5>
<p>For <a href="multithread.html">multi-threaded</a> simulations, you can also compare this
value to <code>brenchmark.end2end_cputime_ms</code> to evaluate how efficient the
multi-threading was. Ideally the latter should approach <code>threads</code> times the
former.</p>
</div>
<h2 id="memory-usage">Memory Usage</h2>
<p>Memory usage is returned as part of the response in the field
<code>benchmark.max_memory_usage_bytes</code>.</p>
<h2 id="time-to-solution">Time to Solution</h2>
<p>By setting a <code>params.cost_limit</code> you can tell qiotoolkit to <a href="limits.html">stop the simulation</a>
once the expected lowest energy (or an even lower one...) is found. Use this limiting
condition in conjunction with the wall clock duration mentioned above, keeping an eye
on the number of <code>benchmark.threads</code> used when comparing results.</p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>
              Generated with <strong>Doxygen</strong>
              and <strong>DocFX</strong></span>
              | <a href="[site-url]?version=GB"></a> (<a href="[site-url]/"></a>)
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>

    <!--
    <link rel="stylesheet" type="text/css" href="http://tikzjax.com/v1/fonts.css">
    <script src="http://tikzjax.com/v1/tikzjax.js"></script>
    -->

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function(event) { 
        var codes = document.getElementsByTagName("code");
        [].slice.call(codes).forEach(function(code){
          var pre = code.parentNode;
          if (pre.tagName == "PRE" && code.classList.contains('lang-math')) {
            math_div = document.createElement('div');
            math_div.innerHTML = katex.renderToString(code.textContent, { displayMode: true });
            pre.parentNode.replaceChild(math_div, pre);
          } else {
            var before = code.previousSibling;
            var after = code.nextSibling;
            if (before && before.textContent !== undefined && before.textContent.endsWith('$')
                && after && after.textContent !== undefined && after.textContent.startsWith('$'))
            {
              math_span = document.createElement('span');
              math_span.innerHTML = katex.renderToString(code.innerHTML, { displayMode: false });
              code.parentNode.replaceChild(math_span, code);
              before.textContent = before.textContent.replace(/\$$/, '');
              after.textContent = after.textContent.replace(/^\$/, '');
            }
          }
        });
      });
    </script>

  </body>
</html>
